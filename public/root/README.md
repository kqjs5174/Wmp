# Root 配置管理页面

## 📖 简介

这是一个纯前端的配置文件管理界面，用于直接编辑和管理系统的 `config.json` 配置文件。

## 🔐 访问方式

访问地址：`http://your-server:3000/root/`

默认密码：`admin123456`（在 config.json 的 `rootAdmin.password` 中配置）

## ✨ 功能特性

### 1. 配置编辑器
- **JSON 编辑器**：直接编辑完整的配置文件
- **格式化**：一键格式化 JSON 代码
- **验证**：保存前自动验证 JSON 格式
- **实时提示**：修改后提示保存

### 2. 快速配置
提供常用配置项的表单化编辑：
- 🖥️ **服务器配置**：监听地址、端口
- 🎮 **MCSManager 配置**：面板地址、API密钥、用户数据路径
- 💰 **积分配置**：积分比例、续费单价
- 📅 **签到配置**：启用状态、基础积分
- 🔐 **管理员密码**：Root 密码修改

### 3. 配置说明
详细的配置项文档，包括：
- server - 服务器配置
- services - 服务模块配置
- mcsm - MCSManager 配置
- docker - Docker 镜像配置
- serverPlans - 服务器套餐配置
- customPlan - 自定义套餐配置
- checkin - 签到配置
- rootAdmin - 管理员配置

## 📝 使用方法

### 方式一：使用配置编辑器（推荐高级用户）

1. 登录后，在"配置编辑器"区域直接编辑 JSON
2. 点击"格式化"按钮美化代码
3. 点击"验证"按钮检查 JSON 格式
4. 点击"💾 保存配置"按钮保存

### 方式二：使用快速配置（推荐普通用户）

1. 登录后，滚动到"快速配置"区域
2. 在表单中修改需要的配置项
3. 点击"应用快速配置"按钮，配置会自动更新到编辑器
4. 点击"💾 保存配置"按钮保存

## ⚠️ 重要提示

1. **备份配置**：修改前建议先备份 `config.json` 文件
2. **JSON 格式**：确保 JSON 格式正确，否则无法保存
3. **重启服务**：部分配置修改后需要重启服务器才能生效
4. **密码修改**：修改管理员密码后需要重新登录

## 🔧 配置项说明

### 服务器配置 (server)
```json
{
  "server": {
    "host": "0.0.0.0",  // 监听地址
    "port": 3000        // 监听端口
  }
}
```

### MCSManager 配置 (mcsm)
```json
{
  "mcsm": {
    "panelUrl": "https://panel.example.com:23333",  // 面板地址
    "apiKey": "YOUR_API_KEY",                       // API密钥
    "daemonId": "",                                 // 守护进程ID（留空自动选择）
    "userDataPath": "C:/path/to/user/data"         // 用户数据路径
  }
}
```

### 积分配置
```json
{
  "services": {
    "recharge": {
      "pointsRatio": 1  // 1元 = N积分
    }
  },
  "renewal": {
    "pricePerDay": 0.33  // 每天续费消耗的积分
  }
}
```

### 签到配置 (checkin)
```json
{
  "checkin": {
    "enabled": true,      // 是否启用签到
    "basePoints": 10,     // 基础签到积分
    "continuousBonus": 5, // 连续签到奖励
    "maxContinuousBonus": 50  // 最大连续奖励
  }
}
```

## 🛡️ 安全建议

1. **修改默认密码**：首次使用后立即修改默认密码
2. **限制访问**：建议通过防火墙限制 /root/ 路径的访问
3. **定期备份**：定期备份配置文件
4. **谨慎修改**：不熟悉的配置项请勿随意修改

## 📱 响应式设计

页面支持移动端访问，在手机和平板上也能正常使用。

## 🐛 故障排除

### 无法登录
- 检查密码是否正确（默认：admin123456）
- 查看 config.json 中的 rootAdmin.password 配置

### 保存失败
- 检查 JSON 格式是否正确
- 查看浏览器控制台的错误信息
- 确认服务器有写入权限

### 配置不生效
- 部分配置需要重启服务器
- 检查配置文件是否正确保存
- 查看服务器日志

## 📞 技术支持

如遇问题，请检查：
1. 浏览器控制台错误信息
2. 服务器日志输出
3. config.json 文件格式

---

**版本**：1.0.0  
**最后更新**：2026-01-17
